var DEFAULT_DATASET_SIZE = 7;

var enero0 = {x: 78.4, y: 0.290993243787, r: 10};
var febrero0 = {x: 47.3, y: 0.0, r: 10};
var marzo0 = {x: 32.2, y: 0.77762122267, r: 10};
var abril0 = {x: 49.2, y: 0.478160404073, r: 10};
var mayo0 = {x: 229.7, y: 0.785033599518, r: 10};
var junio0 = {x: 447, y: 0.782416310211, r: 10};
var julio0 = {x: 356.7, y: 0.630135490214, r: 10};
var agosto0 = {x: 285.1, y: 0.717566054198, r: 10};
var septiembre0 = {x: 339.4, y: 1.0, r: 10};
var octubre0 = {x: 323.5, y: 0.435462874317, r: 10};
var noviembre0 = {x: 94.4, y: 0.435063619892, r: 10};
var diciembre0 = {x: 71.3, y: 0.14201265635, r: 10};

var enero1 = {x: 104, y: 0.439487819823, r: 10};
var febrero1 = {x: 31.6, y: 0.282736327834, r: 10};
var marzo1 = {x: 33.4, y: 0.837617345383, r: 10};
var abril1 = {x: 58.5, y: 0.640876726948, r: 10};
var mayo1 = {x: 148, y: 0.308431876237, r: 10};
var junio1 = {x: 256.6, y: 0.278776882741, r: 10};
var julio1 = {x: 279.3, y: 0.38517066751, r: 10};
var agosto1 = {x: 459.1, y: 0.324712050133, r: 10};
var septiembre1 = {x: 368.3, y: 0.942561219036, r: 10};
var octubre1 = {x: 503.2, y: 1.0, r: 10};
var noviembre1 = {x: 41.4, y: 0.100026437622, r: 10};
var diciembre1 = {x: 19.2, y: 0.0, r: 10};
var enero2 = {x: 69.9, y: 0.0, r: 10};
var febrero2 = {x: 50.6, y: 0.0186294958527, r: 10};
var marzo2 = {x: 33.3, y: 0.196352677384, r: 10};
var abril2 = {x: 90.8, y: 0.880425514475, r: 10};
var mayo2 = {x: 203.2, y: 0.969944065941, r: 10};
var junio2 = {x: 431.3, y: 0.784048448581, r: 10};
var julio2 = {x: 390, y: 0.642551934032, r: 10};
var agosto2 = {x: 315.8, y: 0.711688831731, r: 10};
var septiembre2 = {x: 486, y: 1.0, r: 10};
var octubre2 = {x: 224.2, y: 0.718170740894, r: 10};
var noviembre2 = {x: 25.8, y: 0.545354394427, r: 10};
var diciembre2 = {x: 34, y: 0.343058037623, r: 10};

var enero3 = {x: 47, y: 0.657591736542, r: 10};
var febrero3 = {x: 18.5, y: 0.792634436225, r: 10};
var marzo3 = {x: 29, y: 0.944109681907, r: 10};
var abril3 = {x: 27, y: 1.0, r: 10};
var mayo3 = {x: 168.1, y: 0.397399442616, r: 10};
var junio3 = {x: 369, y: 0.684085156957, r: 10};
var julio3 = {x: 214.5, y: 0.877027920916, r: 10};
var agosto3 = {x: 333.7, y: 0.916899021483, r: 10};
var septiembre3 = {x: 300, y: 0.715553020145, r: 10};
var octubre3 = {x: 245.9, y: 0.623336206266, r: 10};
var noviembre3 = {x: 142, y: 0.0165936891097, r: 10};
var diciembre3 = {x: 58.4, y: 0.0, r: 10};

var enero4 = {x: 45.1, y: 0.0246736343992, r: 10};
var febrero4 = {x: 17.8, y: 0.0, r: 10};
var marzo4 = {x: 14.8, y: 0.0769209459005, r: 10};
var abril4 = {x: 70.4, y: 0.0654414667327, r: 10};
var mayo4 = {x: 186.4, y: 0.0748500331493, r: 10};
var junio4 = {x: 507.5, y: 0.230407279864, r: 10};
var julio4 = {x: 395.1, y: 0.464965829829, r: 10};
var agosto4 = {x: 756.7, y: 0.54996418831, r: 10};
var septiembre4 = {x: 559.5, y: 1.0, r: 10};
var octubre4 = {x: 58.4, y: 0.800353860646, r: 10};
var noviembre4 = {x: 89.9, y: 0.432530634695, r: 10};
var diciembre4 = {x: 28.7, y: 0.277770719615, r: 10};

var enero5 = {x: 46, y: 0.108421782653, r: 10};
var febrero5 = {x: 37.1, y: 0.0490163626287, r: 10};
var marzo5 = {x: 84.3, y: 0.12903489462, r: 10};
var abril5 = {x: 74.2, y: 0.0119313048048, r: 10};
var mayo5 = {x: 149.5, y: 0.0511634679344, r: 10};
var junio5 = {x: 300.6, y: 0.0, r: 10};
var julio5 = {x: 458.5, y: 0.143268224476, r: 10};
var agosto5 = {x: 433.7, y: 0.440636296894, r: 10};
var septiembre5 = {x: 422.3, y: 1.0, r: 10};
var octubre5 = {x: 273.7, y: 0.922442909651, r: 10};
var noviembre5 = {x: 58.8, y: 0.468737333782, r: 10};
var diciembre5 = {x: 42.9, y: 0.266475947903, r: 10};

var enero6 = {x: 53.3, y: 0.678977837054, r: 10};
var febrero6 = {x: 38.6, y: 0.609351589582, r: 10};
var marzo6 = {x: 58.2, y: 0.556151892902, r: 10};
var abril6 = {x: 57.8, y: 0.60875197459, r: 10};
var mayo6 = {x: 181.1, y: 0.907822648763, r: 10};
var junio6 = {x: 264, y: 0.71740003836, r: 10};
var julio6 = {x: 211.8, y: 0.443676697611, r: 10};
var agosto6 = {x: 418.1, y: 1.0, r: 10};
var septiembre6 = {x: 321.3, y: 0.313745495472, r: 10};
var octubre6 = {x: 194.4, y: 0.277939058318, r: 10};
var noviembre6 = {x: 29, y: 0.0, r: 10};
var diciembre6 = {x: 57.7, y: 0.178058400811, r: 10};

var enero7 = {x: 59, y: 0.0, r: 10};
var febrero7 = {x: 16.9, y: 0.0398154772116, r: 10};
var marzo7 = {x: 15.7, y: 0.149477370235, r: 10};
var abril7 = {x: 29.6, y: 0.465357041812, r: 10};
var mayo7 = {x: 214.6, y: 0.317294393227, r: 10};
var junio7 = {x: 339.3, y: 0.5450817899, r: 10};
var julio7 = {x: 248.4, y: 0.73951935814, r: 10};
var agosto7 = {x: 309.9, y: 0.657917198093, r: 10};
var septiembre7 = {x: 394.9, y: 1.0, r: 10};
var octubre7 = {x: 299.5, y: 0.834747433891, r: 10};
var noviembre7 = {x: 193.2, y: 0.645829188161, r: 10};
var diciembre7 = {x: 157.8, y: 0.425072690415, r: 10};

var enero8 = {x: 67, y: 0.231543449737, r: 10};
var febrero8 = {x: 20, y: 0.661756006774, r: 10};
var marzo8 = {x: 38, y: 0.847071707173, r: 10};
var abril8 = {x: 94, y: 0.755964232232, r: 10};
var mayo8 = {x: 262, y: 0.622871159037, r: 10};
var junio8 = {x: 348, y: 0.925533298643, r: 10};
var julio8 = {x: 150, y: 1.0, r: 10};
var agosto8 = {x: 226, y: 0.634386745189, r: 10};
var septiembre8 = {x: 462, y: 0.515377070001, r: 10};
var octubre8 = {x: 292, y: 0.253091785788, r: 10};
var noviembre8 = {x: 80, y: 0.126936136249, r: 10};
var diciembre8 = {x: 19, y: 0.0, r: 10};
var enero9 = {x: 83, y: 0.281728083593, r: 10};
var febrero9 = {x: 31, y: 0.19402264182, r: 10};
var marzo9 = {x: 53, y: 0.428344110118, r: 10};
var abril9 = {x: 81, y: 0.807366205455, r: 10};
var mayo9 = {x: 127, y: 1.0, r: 10};
var junio9 = {x: 207, y: 0.474109915044, r: 10};
var julio9 = {x: 135, y: 0.0, r: 10};
var agosto9 = {x: 197, y: 0.0355740541326, r: 10};
var septiembre9 = {x: 341, y: 0.348201572926, r: 10};
var octubre9 = {x: 247, y: 0.148965527653, r: 10};
var noviembre9 = {x: 150, y: 0.00329183934565, r: 10};
var diciembre9 = {x: 91, y: 0.0274907635264, r: 10};


var MONTHS = ["ENE", "FEB", "MAR", "ABR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
var YEARS = ["2006","2007","2008","2009","2010","2011","2012","2013","2014","2015"]
var MM = [48.1,42.8,36.1,64.0,161.3,324.5,274.8,303.1,372.3,242.4,97.8,59.3];
var SEIS = [78.4, 47.3, 32.2, 49.2, 229.7, 447, 356.7, 285.1, 339.4, 323.5, 94.4, 71.3];
var SIETE = [104, 31.6, 33.4, 58.5, 148, 256.6, 279.3, 459.1, 368.3, 503.2, 41.4, 19.2];
var OCHO = [69.9, 50.6, 33.3, 90.8, 203.2, 431.3, 390, 315.8, 486, 224.2, 25.8, 34];
var NUEVE = [47, 18.5, 29, 27, 168.1, 369, 214.5, 333.7, 300, 245.9, 142, 58.4];
var DIEZ = [45.1, 17.8, 14.8, 70.4, 186.4, 507.5, 395.1, 756.7, 559.5, 58.4, 89.9, 28.7];
var ONCE = [46, 37.1, 84.3, 74.2, 149.5, 300.6, 458.5, 433.7, 422.3, 273.7, 58.8, 42.9];
var DOCE = [53.3, 38.6, 58.2, 57.8, 181.1, 264, 211.8, 418.1, 321.3, 194.4, 29, 57.7];
var TRECE = [59, 16.9, 15.7, 29.6, 214.6, 339.3, 248.4, 309.9, 394.9, 299.5, 193.2, 157.8];
var CATORCE = [67, 20, 38, 94, 262, 348, 150, 226, 462, 292, 80, 19];
var QUINCE = [83, 31, 53, 81, 127, 207, 135, 197, 341, 247, 150, 91];

var addedCount = 0;

var randomScalingFactor = function() {
    return (Math.random() > 0.5 ? 1.0 : -1.0) * Math.round(Math.random() * 100);
};
var randomColorFactor = function() {
    return Math.round(Math.random() * 255);
};
var randomColor = function() {
    return 'rgba(' + randomColorFactor() + ',' + randomColorFactor() + ',' + randomColorFactor() + ',.7)';
};


var uno = randomColor();
var dos = randomColor();
var tres = randomColor();
var cuatro = randomColor();
var cinco = randomColor();
var seis = randomColor();
var siete = randomColor();
var ocho = randomColor();
var nueve = randomColor();
var diez = randomColor();





var annual = {
    animation: {
        duration: 10000
    },
    datasets: [{
        label: "2006",
        backgroundColor: uno,
        data: [enero0,febrero0,marzo0,abril0,mayo0,junio0,julio0,agosto0,septiembre0,octubre0,noviembre0,diciembre0]
    },
    {
        label: "2007",
        backgroundColor: dos,
        data: [enero1,febrero1,marzo1,abril1,mayo1,junio1,julio1,agosto1,septiembre1,octubre1,noviembre1,diciembre1]
    },
    {
        label: "2008",
        backgroundColor: tres,
        data: [enero2,febrero2,marzo2,abril2,mayo2,junio2,julio2,agosto2,septiembre2,octubre2,noviembre2,diciembre2]
    },
    {
        label: "2009",
        backgroundColor: cuatro,
        data: [enero3,febrero3,marzo3,abril3,mayo3,junio3,julio3,agosto3,septiembre3,octubre3,noviembre3,diciembre3]
    },
    {
        label: "2010",
        backgroundColor: cinco,
        data: [enero4,febrero4,marzo4,abril4,mayo4,junio4,julio4,agosto4,septiembre4,octubre4,noviembre4,diciembre4]
    },
    {
        label: "2011",
        backgroundColor: seis,
        data: [enero5,febrero5,marzo5,abril5,mayo5,junio5,julio5,agosto5,septiembre5,octubre5,noviembre5,diciembre5]
    },
    {
        label: "2012",
        backgroundColor: siete,
        data: [enero6,febrero6,marzo6,abril6,mayo6,junio6,julio6,agosto6,septiembre6,octubre6,noviembre6,diciembre6]
    },
    {
        label: "2013",
        backgroundColor: ocho,
        data: [enero7,febrero7,marzo7,abril7,mayo7,junio7,julio7,agosto7,septiembre7,octubre7,noviembre7,diciembre7]
    },
    {
        label: "2014",
        backgroundColor: nueve,
        data: [enero8,febrero8,marzo8,abril8,mayo8,junio8,julio8,agosto8,septiembre8,octubre8,noviembre8,diciembre8]
    },
    {
        label: "2015",
        backgroundColor: diez,
        data: [enero9,febrero9,marzo9,abril9,mayo9,junio9,julio9,agosto9,septiembre9,octubre9,noviembre9,diciembre9,
          {x: .6, y:1.000022 , r: .0001, },
          {x: -.00000000000000001, y:-.000022 , r: .0001, }
        ]
    }]
};


1747.4


var config2 = {
    type: 'line',
    data: {
        labels: YEARS,
        datasets: [{
            label: "2301.4",
            data: [2301.4, 2301.4, 2301.4, 2301.4, 2301.4, 2301.4, 2301.4, 2301.4, 2301.4, 2301.4, 2301.4],
            fill: false,
            borderDash: [5, 5],
            pointRadius: 0,
            pointHoverRadius: 00,
        }, {
            label: "",
            data: [2354.2, 2302.6, 2354.9, 1953.1, 2730.3, 2381.6, 1885.3,2278.6,2056,1741],
            fill: false,
            borderDash: [0, 0],
            pointRadius: [12, 12, 12, 12, 12, 12, 12,12,12,12,12,12,12],
        }, {
            label: "1747.4",
            data: [1747.4, 1747.4, 1747.4, 1747.4, 1747.4, 1747.4, 1747.4, 1747.4, 1747.4, 1747.4, 1747.4],
            fill: false,
            borderDash: [5, 5],
            pointRadius: 0,
            pointHoverRadius: 00,
        }]
    },
    options: {
        responsive: true,
        legend: {
            position: 'bottom',
        },
        hover: {
            mode: 'label'
        },
        scales: {
            xAxes: [{
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: 'Time'
                }
            }],
            yAxes: [{
                display: true,
                scaleLabel: {
                    display: true,
                    labelString: 'Precip Accumulation'
                }
            }]
        },
        title: {
            display: true,
            text: '              '
        }
    }
};

var config = {
    type: 'line',
    data: {
        labels: MONTHS,
        datasets: [{
            label: "Datos Historicos",
            data: MM,
            fill: false,
            borderDash: [5, 5],
        }, {
            hidden: true,
            label: '2006',
            data: SEIS,
        }, {
            hidden: true,
            label: "2007",
            data: SIETE,
        }, {
            hidden: true,
            label: "2008",
            data: OCHO,
        }, {
            hidden: true,
            label: "2009",
            data: NUEVE,
        }, {
            hidden: true,
            label: "2010",
            data: DIEZ,
        }, {
            hidden: true,
            label: "2011",
            data: ONCE,
        }, {
            hidden: true,
            label: "2012",
            data: DOCE,
        }, {
            hidden: true,
            label: "2013",
            data: TRECE,
        }, {
            hidden: true,
            label: "2014",
            data: CATORCE,
        }, {
            hidden: true,
            label: "2015",
            data: QUINCE,
        }]
    },
    options: {
        responsive: true,
        title:{
            display:true,
            text:'                '
        },
        tooltips: {
            mode: 'label',
            callbacks: {
            }
        },
        hover: {
            mode: 'dataset'
        },
        scales: {
            xAxes: [{
                display: true,
                scaleLabel: {
                    show: true,
                    labelString: 'Month'
                }
            }],
            yAxes: [{
                display: true,
                scaleLabel: {
                    show: true,
                    labelString: 'Value'
                },
                ticks: {
                    suggestedMin: -10,
                    suggestedMax: 250,
                }
            }]
        }
    }
};





$.each(config.data.datasets, function(i, dataset) {
    dataset.borderColor = randomColor(0.4);
    dataset.backgroundColor = randomColor(0.5);
    dataset.pointBorderColor = randomColor(0.7);
    dataset.pointBackgroundColor = randomColor(0.5);
    dataset.pointBorderWidth = 1;
});

$.each(config2.data.datasets, function(i, dataset) {
    dataset.borderColor = randomColor(0.4);
    dataset.backgroundColor = randomColor(0.5);
    dataset.pointBorderColor = randomColor(0.7);
    dataset.pointBackgroundColor = randomColor(0.5);
    dataset.pointBorderWidth = 1;
});


    window.onload = function() {
        var ctx = document.getElementById("canvas").getContext("2d");
        window.myLine = new Chart(ctx, config);
        var ctx2 = document.getElementById("precip").getContext("2d");
        window.myLine2 = new Chart(ctx2, config2);
    };



    var ctx5 = document.getElementById("annual").getContext("2d");
    window.myChart = new Chart(ctx5, {
        type: 'bubble',
        data: annual,
        options: {
            responsive: true,
            title:{
                display:true,
                text:'Production - Precip Accumulation'
            },
            scales: {
                xAxes: [{
                    display: true,
                    scaleLabel: {
                        display: true,
                        labelString: 'Precip Accumulation'
                    }
                }],
                yAxes: [{
                    display: true,
                    scaleLabel: {
                        display: true,
                        labelString: 'Production'
                    }
                }]
            }
        }
    });



    $('#addDataset').click(function() {
        var newDataset = {
            label: 'Dataset ' + config.data.datasets.length,
            borderColor: randomColor(0.4),
            backgroundColor: randomColor(0.5),
            pointBorderColor: randomColor(0.7),
            pointBackgroundColor: randomColor(0.5),
            pointBorderWidth: 1,
            data: [],
        };

        for (var index = 0; index < config.data.labels.length; ++index) {
            newDataset.data.push(randomScalingFactor());
        }

        config.data.datasets.push(newDataset);
        window.myLine.update();
    });
